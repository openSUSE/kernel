// SPDX-License-Identifier: GPL-2.0+
// Copyright (c) 2021 Facebook Inc.

/dts-v1/;

#include "ast2600-facebook-netbmc-common.dtsi"

/ {
	model = "Facebook Darwin BMC";
	compatible = "facebook,darwin-bmc", "aspeed,ast2600";

	aliases {
		serial0 = &uart5;
		serial1 = &uart1;
		serial2 = &uart2;
		serial3 = &uart3;
	};

	chosen {
		stdout-path = &uart5;
	};

	iio-hwmon {
		compatible = "iio-hwmon";
		io-channels = <&adc0 0>, <&adc0 1>, <&adc0 2>, <&adc0 3>,
			      <&adc0 4>, <&adc0 5>, <&adc0 6>, <&adc0 7>,
			      <&adc1 0>, <&adc1 1>, <&adc1 2>, <&adc1 3>,
			      <&adc1 4>, <&adc1 5>, <&adc1 6>, <&adc1 7>;
	};

	spi_gpio: spi {
		num-chipselects = <1>;
		cs-gpios = <&gpio0 ASPEED_GPIO(X, 0) GPIO_ACTIVE_LOW>;
	};
};

&i2c0 {
	eeprom@50 {
		compatible = "atmel,24c512";
		reg = <0x50>;
	};
};

&adc0 {
	status = "okay";

	pinctrl-0 = <&pinctrl_adc0_default &pinctrl_adc1_default
		     &pinctrl_adc2_default &pinctrl_adc3_default
		     &pinctrl_adc4_default &pinctrl_adc5_default
		     &pinctrl_adc6_default &pinctrl_adc7_default>;
};

&adc1 {
	status = "okay";

	pinctrl-0 = <&pinctrl_adc8_default &pinctrl_adc9_default
		     &pinctrl_adc10_default &pinctrl_adc11_default
		     &pinctrl_adc12_default &pinctrl_adc13_default
		     &pinctrl_adc14_default &pinctrl_adc15_default>;
};

&emmc_controller {
	status = "okay";
};

&emmc {
	status = "okay";

	non-removable;
	max-frequency = <25000000>;
	bus-width = <4>;
};
